import{d as g,u as y,e as w,r as l,j as e}from"./index-Cb9FNa0M.js";import{c as k}from"./machine-CeCIGvqm.js";import{C as m,a as x,b as h,c as u,d as j}from"./card-CMa36ips.js";import{C,B as b,a}from"./BreakdownList-waBhi1jO.js";import{B as t}from"./index-D5C4ljV0.js";import{Q as B,a as M}from"./QRCodeDisplay-Ka7yWKHC.js";import{f as _}from"./utils-B5n6x0oC.js";import{c as r}from"./createLucideIcon-D5-gG2Uj.js";import{F as I}from"./factory-bWIKW7j7.js";import"./useQuery-BauNH4EY.js";import"./axiosClient-DBxQmjQk.js";import"./breakdown-a8ZBpGtt.js";import"./zodSchemas-DpsLq_FM.js";import"./dialog-YBF7wRFK.js";import"./label-C2lfS6Pa.js";import"./wrench-nXlu5_6U.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],D=r("arrow-left",R);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Q=r("map-pin",z);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],A=r("tag",S);function X(){const{machineId:i}=g.useParams(),c=y(),n=w(),{data:s,isLoading:p,error:f}=k(i),[N,d]=l.useState(!1);if(l.useEffect(()=>{n.location.hash==="breakdowns"&&setTimeout(()=>{document.getElementById("breakdowns")?.scrollIntoView({behavior:"smooth"})},100)},[n.location.hash]),p)return e.jsx("div",{className:"text-center py-8",children:"Loading machine details..."});if(f||!s)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-destructive mb-4",children:"Failed to load machine details"}),e.jsx(t,{onClick:()=>c({to:"/machines"}),children:"Back to Machines"})]});const v=o=>{switch(o){case"active":return e.jsx(a,{variant:"success",children:"Active"});case"inactive":return e.jsx(a,{variant:"secondary",children:"Inactive"});case"under_maintenance":return e.jsx(a,{variant:"warning",children:"Under Maintenance"});default:return e.jsx(a,{children:o})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(t,{variant:"ghost",size:"sm",onClick:()=>c({to:"/machines"}),children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsx("h2",{className:"text-3xl font-bold",children:"Machine Details"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(t,{variant:"outline",size:"sm",onClick:()=>d(!0),children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Show QR"]}),v(s.status)]})]}),e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{className:"w-5 h-5 text-muted-foreground"}),e.jsx(h,{children:s.machine_number})]})}),e.jsx(u,{children:s.manufacturer&&s.model?`${s.manufacturer} - ${s.model}`:"Machine Information"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(A,{className:"w-4 h-4 mr-1"}),"Red Tag"]}),e.jsx("p",{className:"font-medium",children:s.red_tag})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Q,{className:"w-4 h-4 mr-1"}),"Zone"]}),e.jsx("p",{className:"font-medium",children:s.zone})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(C,{className:"w-4 h-4 mr-1"}),"Date of Issue"]}),e.jsx("p",{className:"font-medium",children:_(s.date_of_issue)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Model"}),e.jsx("p",{className:"font-medium",children:s.model||"N/A"})]})]}),s.description&&e.jsxs("div",{className:"mt-4 pt-4 border-t",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Description"}),e.jsx("p",{children:s.description})]})]})]}),e.jsxs(m,{id:"breakdowns",children:[e.jsxs(x,{children:[e.jsx(h,{children:"Breakdown History"}),e.jsx(u,{children:"All breakdowns and maintenance records for this machine"})]}),e.jsx(j,{children:e.jsx(b,{machineId:i})})]}),s&&e.jsx(M,{machine:s,isOpen:N,onClose:()=>d(!1)})]})}export{X as component};
